syntax = "proto3";

package tickerscraper.v1;

option go_package = "ticker-scraper/v1";

message Rule {
	string name      = 1;
	int32  action    = 2;
	string selector  = 3;
	string attribute = 4;
}

message AllowedDomain {
	string domain              = 1;
	int32  url_regex_validator = 2;
}

// Deal: A deal is the reflection of the fact of a trade operation execution based on an order that contains a trade request
message Enqueuer {
                string        enqueuer_id         = 1;
                int32         source_id           = 2;
                string        start_url           = 3;
    repeated AllowedDomain    allowed_domain      = 4;
                uint32        duration_in_minutes = 5;
                uint32        max_depth           = 6;
                bool          aborted             = 7;
    repeated Rule             rules               = 8;
}